<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>


<nav class="navbar navbar-expand-lg navbar-" style="box-shadow: 0px 10px 10px -10px #e5dfdf; background-color: skyblue">
    <div class="container">
        <a class="navbar-brand" href="#"> Dashboard </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
           <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                  
                </li>
                <li class="nav-item">
                    
                </li>
                <li class="nav-item">
                   
                </li>
                <li class="nav-item">
                    <!-- <a class="nav-link" href="signup.html">Home</a> -->
                </li>
            </ul>
        </div>
    </div>
</nav>



<div class="container my-3">
   
    <h1>Welcome to Personal Blog App</h1>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Add a Blog</h5>
            <div class="form-group">
                <textarea class="form-control" id="addTxt" rows="3"></textarea>
            </div>
            <br>
            <button class="btn btn-primary" style="background-color: skyblue;" id="addBtn">Publish Blogs</button>
        </div>
    </div>
    <hr>
    <h1>Your Blogs</h1>
    <hr>

    <div id="blogs" class="row container-fluid"> </div>
          
    <div class="notecard my-2 mx-2 card " style="width: 18rem;">
        <div class="card-body">
            <h5 class="card-title">Blogs</h5>
            <p class="card-text"></p>
            <a href="#"  style="background-color:skyblue;" class="btn btn-primary">Delete blogs</a>
        </div>

    </div>




    
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


<script>
    const contentElement = document.getElementById("content");
    const changeButton = document.getElementById("changeButton");

    login.addEventListener("click", function() {
        // window.location.href = "dashboard.html";
    });
</script>


<script>

    // console.log("Ahsan");
let button = document.getElementById("addBtn");
 
 console.log("Welcome to blogs app. This is app.js");
 showblogs();
 
 // If user adds a note, add it to the localStorage
 let addBtn = document.getElementById("addBtn");
 addBtn.addEventListener("click", function(e) {
   let addTxt = document.getElementById("addTxt");
   let blogs = localStorage.getItem("blogs");
   if (blogs == null) {
     blogsObj = [];
   } else {
     blogsObj = JSON.parse(blogs);
   }
   blogsObj.push(addTxt.value);
   localStorage.setItem("blogs", JSON.stringify(blogsObj));
   addTxt.value = "";
   console.log(blogsObj);
 //   console.log(blogsObj);
   showblogs();
 });
 
 // Function to show elements from localStorage
 function showblogs() {
   let blogs = localStorage.getItem("blogs");
   if (blogs == null) {
     blogsObj = [];
   } else {
     blogsObj = JSON.parse(blogs);
   }
   let html = "";
   blogsObj.forEach(function(element, index) {
     html += `
             <div class="noteCard my-2 mx-2 card" style="width: 18rem;">
                     <div class="card-body">
                         <h5 class="card-title">Blog ${index + 1}</h5>
                         <p class="card-text"> ${element}</p>
                         <button id="${index}"onclick="deleteNote(this.id)" class="btn btn-primary">Delete Blog</button>
                     </div>
                 </div>`;
   });
   let blogsElm = document.getElementById("blogs");
   if (blogsObj.length != 0) {
     blogsElm.innerHTML = html;
   } else {
     blogsElm.innerHTML = `Nothing to show! Use "Add a Note" section above to add blogs.`;
   }
 }
 
 // Function to delete a note
 function deleteNote(index) {
 //   console.log("I am deleting", index);
 
   let blogs = localStorage.getItem("blogs");
   if (blogs == null) {
     blogsObj = [];
   } else {
     blogsObj = JSON.parse(blogs);
   }
 
   blogsObj.splice(index, 1);
   localStorage.setItem("blogs", JSON.stringify(blogsObj));
   showblogs();
 }
 
 
//  let search = document.getElementById('searchTxt');
//  search.addEventListener("click", function(){
 
//      let inputVal = search.value.toLowerCase();
//      // console.log('Input event fired!', inputVal);
//      let noteCards = document.getElementsByClassName('noteCard');
//      Array.from(noteCards).forEach(function(element){
//          let cardTxt = element.getElementsByTagName("p")[0].innerText;
//          if(cardTxt.includes(inputVal)){
//              element.style.display = "block";
//          }
//          else{
//              element.style.display = "none";
//           }
//          // console.log(cardTxt);
//         })
//      });
     


</script>



